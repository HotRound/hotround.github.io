# Máquinas e Produtos


SELECT M.DATAFIM AS Data, 
	O.LOGIN AS Op,
	SUM(M.valorpago) - SUM(M.valorprod) AS Maquinas, 
	SUM(M.valorprod) AS Produtos, 
	IIF( SUM(M.DESCVALOR) > 3, SUM(M.DESCVALOR), '') AS Desconto,
	SUM( CAST(SUBSTRING(M.TEMPOPAUSA FROM 4 FOR 2) AS integer) + (60 * CAST(SUBSTRING(M.TEMPOPAUSA FROM 1 FOR 2) AS integer)) ) AS Pausa
FROM MOVIMENTOHIST AS M, SENHA as O 
WHERE 
	DATAFIM BETWEEN '01-MAY-2021' AND '31-DEC-2222' 
	AND O.CODIGO = M.CODUSU 
GROUP BY 
	M.DATAFIM, 
	Op 
ORDER BY 
	data ASC, 
	op DESC


# Entradas GERAIS

## Janeiro

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-JAN-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC

## Fevereiro

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-FEB-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Março

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-MAR-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Abril

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-APR-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Maio

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-MAY-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Junho

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-JUN-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Julho

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-JUL-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Agosto

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-AUG-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Setembro

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-SEP-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Outubro

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-OCT-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Novembro

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-NOV-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC


## Dezembro

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'00-DEC-2021' AND 
P.CODIGO = E.CODPROD  
ORDER BY DATA ASC, HORA ASC



--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------

# POUCO USADOS

# Pausas

SELECT LOGIN, NOME, DATAINI, DATAFIM, HORAINI, HORAFIM, TEMPOPAUSA 
FROM MOVIMENTOHIST
LEFT JOIN CLIENTES ON CLIENTES.CODIGO = MOVIMENTOHIST.CODCLI
WHERE DATAINI>'01-JAN-2022'
AND TEMPOPAUSA > '00:00'

# Quando um funcionario fica no Login do Outro, e é preciso fazer o relatório por horário:

SELECT M.DATAFIM AS Data, O.LOGIN AS Op, SUM(M.valorpago) - SUM(M.valorprod) AS Maquinas, SUM(M.valorprod) AS Produtos, IIF( SUM(M.DESCVALOR) > 3, SUM(M.DESCVALOR), '') AS Desconto FROM MOVIMENTOHIST AS M, SENHA as O WHERE

M.DATAFIM = '16-APR-2020' AND 
M.HORAFIM < '15:31' AND

O.CODIGO = M.CODUSU
GROUP BY M.DATAFIM, Op 



--------------------------------------------------------------------------------

# ANTIGOS, NAO MAIS USADOS



# DESCONTOS (98 = Danielson, 90 = Thiago)

SELECT HORAFIM As Hora, TEMPOTOT AS Tempo, DESCVALOR, DESCTEMPO FROM MOVIMENTOHIST WHERE DATAFIM = 
'-JAN-2018' AND CODUSU =
90
AND
(
 DESCTEMPO > '00:20'
 OR 
   DESCVALOR > 1    
)





# Entradas de Produtos ESPECIFICOS apenas (nao lembro quais eram)

SELECT E.DATA, E.HORA, E.QUANT, P.NOME FROM ENTRADAPROD E, PRODUTOS P WHERE DATA =
'-JAN-2018' AND 
P.CODIGO = E.CODPROD AND
(	 
    P.CODIGO = 264 OR
    P.CODIGO = 288 OR
	P.CODIGO = 305 OR
	P.CODIGO = 298 OR
	P.CODIGO = 191 OR
	P.CODIGO = 93  OR
	P.CODIGO = 203 OR
	P.CODIGO = 216 OR
	P.CODIGO = 267 OR
	P.CODIGO = 191 OR
	P.CODIGO = 249 
) 
ORDER BY DATA ASC, HORA ASC


# Level Up Multiplicador
1,1363808657417936471836858464104

